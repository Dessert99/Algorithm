[https://www.acmicpc.net/problem/15683](https://www.acmicpc.net/problem/15683)
```javascript
const input = require('fs')
    .readFileSync(process.platform === 'linux' ? '/dev/stdin' : './input.txt')
    .toString()
    .trim()
    .split('\n');

let inputIndex = 0;

// N: ì„¸ë¡œ, M: ê°€ë¡œ ~8
const [N, M] = input[inputIndex++].split(' ').map(Number);
let answer = Number.MAX_SAFE_INTEGER;

const room = [];
for (let i = 0; i < N; i++) {
    room.push(input[inputIndex++].split(' ').map(Number));
}

// cctvíŒŒì•….  [y, x, type]
const cctvs = [];
for (let y = 0; y < N; y++) {
    for (let x = 0; x < M; x++) {
        // cctvëŠ” 1~5ìˆ«ìì´ë‹¤.
        if (room[y][x] >= 1 && room[y][x] <= 5) {
            cctvs.push([y, x, room[y][x]]);
        }
    }
}
// cctvê°œìˆ˜
const cctvCount = cctvs.length;

// ìœ„ ì˜¤ ì•„ë˜ ì™¼
const dy = [-1, 0, 1, 0];
const dx = [0, 1, 0, -1];

// âœ… í˜¸í¡1) "cctvíƒ€ì… ë³„ë¡œ ë°©í–¥ì„ ì •í•´ì£¼ëŠ” ê°ì²´ ë§Œë“¤ê¸°"
const DIRS = {
    // ë°°ì—´ì˜ ìš”ì†ŒëŠ” ìƒí•˜ì¢Œìš°ë¥¼ ê°€ë¦¬í‚¤ëŠ” dy,dxì˜ ì¸ë±ìŠ¤ë‹¤.
    1: [[0], [1], [2], [3]], // ìœ„ / ì˜¤ / ì•„ë˜ / ì™¼
    2: [
        [1, 3],
        [0, 2],
    ], // ì™¼ ì˜¤ / ìœ„ ì•„ë˜
    3: [
        [0, 1],
        [1, 2],
        [2, 3],
        [3, 0],
    ], // ìœ„ ì˜¤ / ì˜¤ ì•„ë˜ / ì•„ë˜ ì™¼/ ì™¼ ìœ„
    4: [
        [3, 0, 1],
        [0, 1, 2],
        [1, 2, 3],
        [2, 3, 0],
    ], // ì™¼ ìœ„ ì˜¤ / ìœ„ ì˜¤ ì•„ë˜ / ì˜¤ ì•„ë˜ ì™¼ / ì•„ë˜ ì™¼ ìœ„
    5: [[0, 1, 2, 3]], // ìœ„ ì˜¤ ì•„ë˜ ì™¼
};

// idxë²ˆì§¸ cctvê°€ ì„ íƒí•œ íšŒì „ ê²°ê³¼ë¥¼ ë„£ëŠ”ë‹¤. ì´ ê°’ë“¤ì€ dy,dxì¸ë±ìŠ¤ë¡œ ì“°ì¸ë‹¤.
const tmp = [];

// âœ… í˜¸í¡ 2) ë°±íŠ¸ë˜í‚¹ í•¨ìˆ˜ ë§Œë“¤ê¸°: "cctvê°œìˆ˜ë§Œí¼ ì¬ê·€í•˜ë©°, ê·¸ë•Œë§ˆë‹¤ cctvë°©í–¥ì„ ì •í•´ì„œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ í™•ì¸í•œë‹¤."
function dfs(idx) {
    // ëª¨ë“  cctvë°©í–¥ì´ ì •í•´ì¡Œì„ ë•Œ
    if (idx === cctvCount) {
        // ìƒˆë¡œìš´ ì‚¬ë¬´ì‹¤ ë°°ì—´ì„ ë§Œë“¤ì–´ì„œ cctvê²½ë¡œë¥¼ ë§ˆí‚¹í•œ ë’¤, ì‚¬ê°ì§€ëŒ€ ì„¸ê¸°
        calcBlind();

        return;
    }

    // â­ï¸ cctvì˜ íƒ€ì…ë§ˆë‹¤ íšŒì „ ë°©ì‹ì´ ë‹¤ë¥´ë‹¤. ê¸°ì¡´ì— ë§¤í•‘í•´ë†¨ë˜ DIRSë¥¼ í™œìš©í•˜ì—¬ íšŒì „ ë°©ì‹ì„ íŒŒì•…í•˜ê³ , ì¬ê·€ í•œë‹¤.

    // í˜„ì¬ cctv ì •ë³´
    const [y, x, type] = cctvs[idx];

    // í˜„ì¬ cctv ë°©í–¥ ë§¤í•‘ì—ì„œ í™•ì¸
    const rotations = DIRS[type]; // [[1,3], [2,4]] ë“±

    // í˜„ì¬ cctvì˜ íƒ€ì…ì— ë§ê²Œ íšŒì „í•˜ë©° ì¬ê·€í•œë‹¤.
    for (const rotation of rotations) {
        // idxë²ˆì§¸ cctvê°€ ë³´ëŠ” ë°©í–¥ì„ tmpë°°ì—´ì— ë„£ëŠ”ë‹¤.
        tmp[idx] = rotation; // [1,3] ë“±
        dfs(idx + 1); // ë‹¤ìŒ cctvë°©í–¥ ì •í•˜ê¸°
    }
}

// âœ… í˜¸í¡ 3) tmpì— ë‹´ê¸´ cctvë°©í–¥ëŒ€ë¡œ, í˜„ì¬ ì‚¬ë¬´ì‹¤ì„ ë¹„ì¶°ë³¸ë‹¤. ì´ë•Œ "ì‚¬ë³¸"ì´ í•„ìš”í•˜ë‹¤.
function calcBlind() {
    // ì‚¬ë¬´ì‹¤ ì‚¬ë³¸
    const copy = room.map((row) => [...row]);

    // cctvì˜ ë°©í–¥ëŒ€ë¡œ ë¹„ì¶°ë³¸ë‹¤.
    for (let i = 0; i < cctvCount; i++) {
        // cctvìœ„ì¹˜
        const [y, x] = cctvs[i];
        // cctvë°©í–¥
        const dir = tmp[i]; // [1,3] ë“±

        // í˜„ì¬ cctvìœ„ì¹˜, ë°©í–¥ì„ ë°”íƒ•ìœ¼ë¡œ copyë§µì„ ì±„ì›Œê°„ë‹¤.
        watch(y, x, copy, dir);
    }

    // ì´ì œ ì‚¬ê° ì§€ëŒ€ë¥¼ ì„¸ì•¼ í•œë‹¤.
    let blind = 0;
    for (let y = 0; y < N; y++) {
        for (let x = 0; x < M; x++) {
            if (copy[y][x] === 0) {
                blind++;
            }
        }
    }
    // ìµœì†Ÿê°’ ê°±ì‹ 
    answer = Math.min(answer, blind);
    return;
}

// âœ… ë„¤ ë²ˆì§¸ í˜¸í¡: ì‹¤ì œ ê°ì‹œ ì˜ì—­ ì²´í¬í•˜ê¸°
// í˜„ì¬ cctvì •ë³´(ìœ„ì¹˜, ë°©í–¥)ê³¼ ì‚¬ë¬´ì‹¤ ì‚¬ë³¸ì„ ì „ë‹¬ë°›ëŠ”ë‹¤.
function watch(y, x, copy, dir) {
    for (const i of dir) {
        // ë‹¤ìŒ ìœ„ì¹˜
        let ny = y + dy[i];
        let nx = x + dx[i];

        // ë²½ì— ë§‰íˆê±°ë‚˜ ì‚¬ë¬´ì‹¤ ëì— ë‹¤ë‹¤ë¥¼ ë•Œê¹Œì§€ ì§„í–‰
        while (ny >= 0 && nx >= 0 && ny < N && nx < M && copy[ny][nx] !== 6) {
            // ìœ„ì¹˜ê°€ 0ì´ë¼ë©´
            if (copy[ny][nx] === 0) {
                copy[ny][nx] = '#'; // ê°ì‹œ
            }
            // ì­‰ ì´ë™í•œë‹¤.
            ny += dy[i];
            nx += dx[i];
        }
    }
}
dfs(0);

console.log(answer);
```
### ğŸ”— í’€ì´
1. ğŸ¤” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜
    - ìµœëŒ€ cctvê°œìˆ˜ëŠ” 8ê°œì´ë‹¤.
    - ê° cctvë§ˆë‹¤ 4ê°€ì§€ ë°©í–¥ì´ ìˆë‹¤.
    - 4^8 = 6ë§Œ 5ì²œ
    - ì‚¬ë¬´ì‹¤ì€ ìµœëŒ€ 64í¬ê¸°ì´ë‹¤. ìµœëŒ€ 307200ì—°ì‚°
    - ì–¼ì¶” ë  ê²ƒ ê°™ë‹¤.

2. ğŸ¤” ë§Œì•½ 4800ë²ˆì˜ cctvê²½ìš°ì˜ ìˆ˜ë§ˆë‹¤ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“ ë‹¤ê³  í•˜ë©´ ë©”ë¬´ë¦¬ ì´ˆê³¼ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.
    - cctvì˜ ëª¨ë“  ë°©í–¥ì´ ì •í•´ì§„ ë’¤ì—, ìƒˆë¡œìš´ ë°°ì—´ì„ ë³µì‚¬í•´ì„œ #ìœ¼ë¡œ ì±„ì›Œë³´ì. ì‚¬ê°ì§€ëŒ€ë¥¼ ì„¼ë‹¤.

3. ğŸ¤” ë°©í–¥ì„±ì€ ë§ëŠ” ê²ƒ ê°™ë‹¤. ì´ì œ êµ¬í˜„ì„ í•´ë³´ì.

4. ğŸ¤” cctvê°œìˆ˜, ìœ„ì¹˜ëŠ”?
    - ì£¼ì–´ì§€ì§€ ì•Šì•˜ë‹¤. ìš°ì„  ì„ í˜• íƒìƒ‰ìœ¼ë¡œ ìœ„ì¹˜ë¥¼ íŒŒì•…í•´ì•¼ í•œë‹¤.

5. ğŸ¤” cctvì˜ ì–´ë–¤ ì •ë³´ë¥¼ ì•Œì•„ì•¼ í•˜ëŠ”ê°€?
    - cctvì •ë³´ë¥¼ ìºì‹±í•´ë†“ìœ¼ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤. `[y, x, type]` ì •ë„ í•´ë†“ì.
    - cctvë°©í–¥ ì •ë³´ë„ ë„£ì–´ì•¼ í•˜ëŠ”ê°€?
        - ê·¼ë° ì´ê±´ typeì— ë”°ë¼ì„œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— í˜ë“¤ë‹¤. -> âœ… ë°©í–¥ì€ `DIRS`ê°ì²´ë¡œ í•´ê²°í•œë‹¤.

### ğŸ”— ë°°ìš´ì 
1. ì²« ë²ˆì§¸ í˜¸í¡: cctvíƒ€ì… ë³„ë¡œ 4ë°©í–¥ì„ ë‹´ì•„ë†“ì€ ê°ì²´ ë§Œë“¤ê¸°
   - ì™œ ì´ëŸ° ìƒê°ì„ í•´ì•¼ í•˜ëŠ”ê°€?
   - ì™œ ê°ì²´ë¡œ ë§¤í•‘í•´ì•¼ í•˜ëŠ”ê°€?
   - ì—¬ê¸°ì„œ ë°°ì—´ ì›ì†Œì˜ ì˜ë¯¸ëŠ”?
       - dy,dx ì¸ë±ìŠ¤ì´ë‹¤.
          ```javascript
              for (let i = 0; i<4; i++){
                  const ny = y + dy[i]
                  const nx = x + dx[i]
              }
          ```
      - ì´ ë¶€ë¶„ì„ DIRSë¡œ êµ¬í˜„í•œ ê²ƒì´ë‹¤.
2. ë‘ ë²ˆì§¸ í˜¸í¡: ë°±íŠ¸ë˜í‚¹ í•¨ìˆ˜ ë§Œë“¤ê¸°: "cctvê°œìˆ˜ë§Œí¼ ì¬ê·€í•˜ë©°, ê·¸ë•Œë§ˆë‹¤ cctvë°©í–¥ì„ ì •í•´ì„œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ í™•ì¸í•œë‹¤."
   - ê¸°ë³¸ ì¡°ê±´ ë¡œì§ì„ íŒŒì•…í•˜ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤. ëª¨ë“  cctvê°œìˆ˜ì˜ ë°©í–¥ì´ ì •í•´ì§ˆ ë•Œê¹Œì§€ ì¬ê·€í•œë‹¤. ì´ë•Œ, cctvë§ˆë‹¤ íƒ€ì…ì´ ë‹¤ë¥´ë‹ˆ ë¯¸ë¦¬ ë§¤í•‘í•œ `DIRS`ë¥¼ ì‚¬ìš©í•˜ì—¬ "í˜„ì¬ íƒ€ì…ì˜ ë°©í–¥ ê°€ì§“ìˆ˜"ë¥¼ íŒŒì•…í•œë‹¤.
   - í•´ë‹¹ íƒ€ì…ì˜ "ë°©í–¥ ê°€ì§“ìˆ˜"ë§Œí¼ ìˆœíšŒí•˜ë©°, ì¬ê·€í•œë‹¤.
   - ì´ë•Œ, tmpë°°ì—´ì— ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•˜ì—¬ ë°±íŠ¸ë˜í‚¹ ì‹œ ì›ë³¸ ë³µêµ¬ë¥¼ í•  í•„ìš”ê°€ ì—†ë‹¤.
4. ì„¸ ë²ˆì§¸ í˜¸í¡: `calcBlind()`: ì‚¬ë³¸ ë§Œë“¤ê¸° -> cctvë°©í–¥ì„ ì „ë¶€ ì˜ì—­ ì²´í¬ -> ì‚¬ê°ì§€ëŒ€ ì¹´ìš´íŒ…
   - `watch()`ë©”ì„œë“œì— `tmp[i]`ê°’ì„ ë„˜ê²¨ì¤˜ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ìƒ-í•˜, ì™¼-ì˜¤ ë“± cctvë°©í–¥ ì •ë³´ë¥¼ ì•Œë ¤ì¤˜ì•¼ ì˜ì—­ì„ ì²´í¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
5. ë„¤ ë²ˆì§¸ í˜¸í¡: `watch()`: ì‹¤ì œ ê°ì‹œ ì˜ì—­ ì²´í¬í•˜ê¸°
    - ê¸°ì¡´ `bfs`ì™€ëŠ” ë‹¤ë¥´ê²Œ `while`ë¬¸ìœ¼ë¡œ ì­‰ ì´ë™í•˜ë©´ì„œ ë§ˆí‚¹í•´ì•¼ í•œë‹¤.
