[https://www.acmicpc.net/problem/17144](https://www.acmicpc.net/problem/17144)
```javascript
const input = require('fs')
    .readFileSync(process.platform === 'linux' ? '/dev/stdin' : './input.txt')
    .toString()
    .trim()
    .split('\n');

let inputIndex = 0;

// í–‰, ì—´, ì‹œê°„ (1~1000)
const [R, C, T] = input[inputIndex++].split(' ').map(Number);

// ì§€ë„
let maps = [];
for (let i = 0; i < R; i++) {
    maps.push(input[inputIndex++].split(' ').map(Number));
}

// ê³µê¸° ì²­ì •ê¸° í–‰ ìœ„ì¹˜
let filterTop;
let filterBottom;
for (let y = 0; y < R; y++) {
    //   ê³µê¸° ì²­ì •ê¸°ë¥¼ ë§Œë‚¬ë‹¤ë©´
    if (maps[y][0] === -1) {
        filterTop = y;
        filterBottom = y + 1;
        break;
    }
}

const dy = [-1, 0, 1, 0];
const dx = [0, 1, 0, -1];

// ë©”ì¸ ë¡œì§
for (let t = 0; t < T; t++) {
    // 1ì´ˆë§ˆë‹¤ ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°
    BFS();

    // ê³µê¸°ì²­ì •ê¸° ê°€ë™
    topSection();
    bottomSection();
}

// í•¨ìˆ˜1) ë¯¸ì„¸ë¨¼ì§€ í™•ì‚° ë¡œì§
function BFS() {
    const queue = [];
    let head = 0;

    // ì´ˆê¸°ê°’: [y, x, í˜„ì¬ ë¯¸ì„¸ë¨¼ì§€ ì–‘]
    for (let y = 0; y < R; y++) {
        for (let x = 0; x < C; x++) {
            // ë¯¸ì„¸ë¨¼ì§€ê°€ ìˆì„ ë•Œ
            if (maps[y][x] > 0) {
                // ì¢Œí‘œì™€, ë¯¸ì„¸ë¨¼ì§€ ì–‘ì„ íì— ë„£ëŠ”ë‹¤.
                queue.push([y, x, maps[y][x]]);
            }
        }
    }
    // ì§€ë„ ì´ˆê¸°í™”
    maps = Array.from({ length: R }, () => Array(C).fill(0));

    //ê³µê¸°ì²­ì •ê¸° ì´ˆê¸°í™”
    maps[filterTop][0] = -1;
    maps[filterBottom][0] = -1;

    while (queue.length > head) {
        // ì§€ê¸ˆ ë¯¸ì„¸ë¨¼ì§€ ìœ„ì¹˜
        const [curY, curX, curAmount] = queue[head++];

        // í¼ì§€ëŠ” ë¯¸ì„¸ë¨¼ì§€ ì–‘
        const spreadDust = Math.floor(curAmount / 5);
        // í¼ì§„ ë¨¼ì§€ íšŸìˆ˜
        let spreadCnt = 0;

        // ìƒí•˜ì¢Œìš° í™•ì¸
        for (let i = 0; i < 4; i++) {
            const ny = curY + dy[i];
            const nx = curX + dx[i];

            // ê°ˆ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸. 1) ìœ íš¨í•œ ë²”ìœ„ 2) ê³µê¸°ì²­ì •ê¸° ì•„ë‹ˆì–´ì•¼ í•¨.
            if (ny >= 0 && nx >= 0 && ny < R && nx < C && maps[ny][nx] !== -1) {
                // ë¨¼ì§€ê°€ í¼ì§„ë‹¤.
                spreadCnt++;

                // í•´ë‹¹ ìœ„ì¹˜ì— ë¯¸ì„¸ë¨¼ì§€ ì…ë ¥
                maps[ny][nx] += spreadDust;
            }
        }

        // ë‹¤ í¼ì¡Œë‹¤. ì´ì œ í¼ì§„ë§Œí¼ ë¹¼ê³  ê¸°ì…
        const restDust = curAmount - spreadDust * spreadCnt;
        maps[curY][curX] += restDust;
    }
}

// í•¨ìˆ˜2) ê³µê¸°ì²­ì •ê¸° ìœ—ë¶€ë¶„ ê°€ë™
function topSection() {
    // ì²« ë²ˆì§¸: (filterTop, 0)ì—ì„œ (0,0)ê¹Œì§€ ë‹¹ê²¨
    for (let y = filterTop - 1; y > 0; y--) {
        maps[y][0] = maps[y - 1][0];
    }
    // ë‘ ë²ˆì¬: (0,0)ì—ì„œ (0, C-1) ê¹Œì§€ ë‹¹ê²¨
    for (let x = 0; x < C - 1; x++) {
        maps[0][x] = maps[0][x + 1];
    }
    // ì„¸ ë²ˆì§¸: (0, M-1)ì—ì„œ (filterTop, C-1)ê¹Œì§€ ë‹¹ê²¨
    for (let y = 0; y < filterTop; y++) {
        maps[y][C - 1] = maps[y + 1][C - 1];
    }

    // ë„¤ ë²ˆì§¸: (filterTop, C-1)ì—ì„œ (filterTop, 0)ê¹Œì§€ ë‹¹ê²¨
    for (let x = C - 1; x > 1; x--) {
        maps[filterTop][x] = maps[filterTop][x - 1];
    }
    // ê³µê¸°ì²­ì •ê¸° ë°”ë¡œ ì˜¤ë¥¸ìª½ ë¯¸ì„¸ë¨¼ì§€ëŠ” ì§ì ‘ ë¹„ì›Œì¤€ë‹¤.
    maps[filterTop][1] = 0;
}

// í•¨ìˆ˜3) ê³µê¸°ì²­ì •ê¸° ì•„ë«ë¶€ë¶„ ê°€ë™
function bottomSection() {
    // ì²« ë²ˆì§¸: (filterBottom, 0)ì—ì„œ (N-1, 0)ê¹Œì§€ ë‹¹ê²¨
    for (let y = filterBottom + 1; y < R - 1; y++) {
        maps[y][0] = maps[y + 1][0];
    }

    // ë‘ ë²ˆì§¸: (N-1, 0)ì—ì„œ (N-1, M-1)ê°€ì§€ ë‹¹ê²¨
    for (let x = 0; x < C - 1; x++) {
        maps[R - 1][x] = maps[R - 1][x + 1];
    }

    // ì„¸ ë²ˆì§¸: (R-1, C-1)ì—ì„œ (filterBottom, M-1)ê¹Œì§€ ë‹¹ê²¨
    for (let y = R - 1; y > filterBottom; y--) {
        maps[y][C - 1] = maps[y - 1][C - 1];
    }

    // ë„¤ ë²ˆì§¸: (filterBottom, M-1)ì—ì„œ (filterBottom, 0)ê¹Œì§€ ë‹¹ê²¨
    for (let x = C - 1; x > 1; x--) {
        maps[filterBottom][x] = maps[filterBottom][x - 1];
    }

    // 5. ê³µê¸°ì²­ì •ê¸° ë°”ë¡œ ì•(x=1)ì€ ê¹¨ë—í•œ ê³µê¸°(0)ë¡œ ì±„ì›€
    maps[filterBottom][1] = 0;
}

let answer = 0;

// Tì´ˆ ë’¤ì— ë¯¸ì„¸ë¨¼ì§€ ì–‘ì„ í•©ì‚°
for (let y = 0; y < R; y++) {
    for (let x = 0; x < C; x++) {
        if (maps[y][x] !== -1) {
            answer += maps[y][x];
        }
    }
}

console.log(answer);
```
### ğŸ”— í’€ì´
1. ğŸ’¡ ë¯¸ì„¸ë¨¼ì§€ ì¡°ê±´
    1. ê³µê¸°ì²­ì •ê¸° ìœ„ì¹˜
        - 1ì—´ì— ìœ„ì¹˜, 2í–‰ í¬ê¸°
    2. ë¯¸ì„¸ë¨¼ì§€ í™•ì‚° ì–‘
        - Math.floor(ë¯¸ì„¸ë¨¼ì§€/5)
    3. ë¯¸ì„¸ë¨¼ì§€ëŠ” í™•ì‚°ë˜ê³  ê·¸ë§Œí¼ ì¤„ì–´ë“ ë‹¤.
        - ë°©í–¥ì˜ ê°œìˆ˜ë§Œí¼
    4. ë¯¸ì„¸ë¨¼ì§€ëŠ” ë™ì‹œì— í¼ì§„ë‹¤!
        - ë¯¸ì„¸ë¨¼ì§€ê°€ ì˜¤ì—¼ë˜ë‹ˆ, ë”°ë¡œ ìŠ¤ëƒ…ìƒ·ì„ ë³´ê´€í•´ì•¼ í•˜ë‚˜?

2. ğŸ’¡ ê³µê¸°ì²­ì •ê¸° ì¡°ê±´
    1. ìœ„ìª½ -> ë°˜ì‹œê³„. ì•„ë˜ìª½ -> ì‹œê³„
        - ì—¬ê¸°ì„œ ìœ„ìª½ì´ë€, ë‘ í–‰ ì¤‘ ìœ„ì— ìˆëŠ” ë¶€ë¶„ì´ë‹¤.
    2. ë¯¸ì„¸ë¨¼ì§€ê°€ ë°”ëŒì˜ ë°©í–¥í•´ë„ í•œ ì¹¸ ì´ë™
    3. 1ì´ˆì— í•œ ì¹¸ì”© ì´ë™ì´ ì•„ë‹ˆë¼, 1ì´ˆì— 1ì‹¸ì´í´ì„ ëˆë‹¤.

3. ğŸ’¡ íì— ì–´ë–¤ ì •ë³´ë¥¼ ë¬¶ì–´ì„œ ë‚´ì•¼ í• ê¹Œ?
    - ìœ„ì¹˜ ì •ë³´
    - ëª‡ ì´ˆì— í¼ì§„ ë¯¸ì„¸ë¨¼ì§€ì¸ì§€ ì •ë³´ -> í•„ìš”í• ê¹Œ? -> ì´ ë¬¸ì œëŠ” ì´ˆê³¼í•œ ì‹œê°„ì„ êµ¬í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ì„œ í•„ìš”ì—†ë‹¤.
    - ë¯¸ì„¸ë¨¼ì§€ ì–‘ -> í˜„ì¬ ìœ„ì¹˜ì˜ ë¯¸ì„¸ë¨¼ì§€ ì •ë³´ê°€ í•„ìš”í•  ê²ƒ ê°™ë‹¤. 
    
4. ğŸ¤” ì¸ì ‘í•œ ë¯¸ì„¸ë¨¼ì§€ëŠ” ì–´ë–»ê²Œ ê³„ì‚°ì´ ë ê¹Œ?
    - ë™ì¼í•œ ì‹œê°„ì— íì— ë‹´ê²¨ë„, ë‚˜ì˜¤ëŠ” ìˆœì„œê°€ ìˆê¸° ë•Œë¬¸ì— mapsì— ê¸°ë¡ëœ ë¯¸ì„¸ë¨¼ì§€ê°€ ì˜¤ì—¼ë  ê²ƒ ê°™ë‹¤. âœ…

5. ğŸ¤” ê³µê¸°ì²­ì •ê¸° ë¡œì§ì€ ì–´ë–»ê²Œ ë˜ëŠ”ê°€?
    - ë‹¤ì‹œ ì§€ë„ë¥¼ ë‹¤ì‹œ ë§Œë“¤ í•„ìš”ëŠ” ì—†ë‹¤.
    - ì´ë™í•˜ëŠ” ë°©í–¥ì„ í¬ê²Œ ë‚˜ëˆ ë³´ì.
        1. 1ì—´: ìœ„ -> ì•„ë˜
        2. 1í–‰: ì˜¤ë¥¸ -> ì™¼
        3. ë§ˆì§€ë§‰ ì—´: ì•„ë˜ -> ìœ„
        4. ì²­ì •ê¸° ìœ—ë¶€ë¶„ í–‰: ì™¼ -> ì˜¤
        - ê·¸ ì‚¬ì´ ê³µê°„ì€ ì›€ì§ì´ì§€ ì•ŠëŠ”ë‹¤.
    - ê³µê¸°ì²­ì •ê¸° ìœ„/ì•„ë˜ ë¶€ë¶„ì„ ë‚˜ëˆ ì„œ ì—­ë°©í–¥ìœ¼ë¡œ ê°’ì„ ì˜®ê¸´ë‹¤.
### ğŸ”— ë°°ìš´ì 
> í…œí¬ê°€ ê¸¸ë‹¤ë©´ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•´ë³´ì.
1. ë©”ì¸ ë¡œì§ ë¶„ì„
   ```javascript
       // ë©”ì¸ ë¡œì§
      for (let t = 0; t < T; t++) {
          // 1ì´ˆë§ˆë‹¤ ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°
          BFS();
      
          // ê³µê¸°ì²­ì •ê¸° ê°€ë™
          topSection();
          bottomSection();
      }
   ```
    - ì‰½ê²Œ ìƒê°í•˜ë©´ 1ì´ˆë§ˆë‹¤ ë¯¸ì„¸ë¨¼ì§€ê°€ í¼ì§€ê³ , ê³µì§€ì²­ì •ê¸°ê°€ í•œë°”ë€Œ ë„ëŠ” ë°©ì‹ì´ë‹¤.
2. ë¯¸ì„¸ë¨¼ì§€ê°€ í¼ì§€ëŠ” ë¡œì§: `BFS()`
   ```javascript
      // í•¨ìˆ˜1) ë¯¸ì„¸ë¨¼ì§€ í™•ì‚° ë¡œì§
      function BFS() {
          const queue = [];
          let head = 0;
      
          // [y, x, í˜„ì¬ ë¯¸ì„¸ë¨¼ì§€ ì–‘]
          for (let y = 0; y < R; y++) {
              for (let x = 0; x < C; x++) {
                  // ë¯¸ì„¸ë¨¼ì§€ê°€ ìˆì„ ë•Œ
                  if (maps[y][x] > 0) {
                      // ì¢Œí‘œì™€, ë¯¸ì„¸ë¨¼ì§€ ì–‘ì„ íì— ë„£ëŠ”ë‹¤.
                      queue.push([y, x, maps[y][x]]);
                  }
              }
          }
   
          // ì§€ë„ ì´ˆê¸°í™”
          maps = Array.from({ length: R }, () => Array(C).fill(0));
          //ê³µê¸°ì²­ì •ê¸° ì´ˆê¸°í™”
          maps[filterTop][0] = -1;
          maps[filterBottom][0] = -1;
      
          while (queue.length > head) {
              // ì§€ê¸ˆ ë¯¸ì„¸ë¨¼ì§€ ìœ„ì¹˜, ë¯¸ì„¸ë¨¼ì§€ ì–‘
              const [curY, curX, curAmount] = queue[head++];
      
              // í¼ì§€ëŠ” ë¯¸ì„¸ë¨¼ì§€ ì–‘
              const spreadDust = Math.floor(curAmount / 5);
              // í¼ì§„ ë¨¼ì§€ íšŸìˆ˜
              let spreadCnt = 0;
      
              // ìƒí•˜ì¢Œìš° í™•ì¸
              for (let i = 0; i < 4; i++) {
                  const ny = curY + dy[i];
                  const nx = curX + dx[i];
      
                  // ê°ˆ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸. 1) ìœ íš¨í•œ ë²”ìœ„ 2) ê³µê¸°ì²­ì •ê¸° ì•„ë‹ˆì–´ì•¼ í•¨.
                  if (ny >= 0 && nx >= 0 && ny < R && nx < C && maps[ny][nx] !== -1) {
                      // ë¨¼ì§€ê°€ í¼ì§„ë‹¤.
                      spreadCnt++;
      
                      // í•´ë‹¹ ìœ„ì¹˜ì— ë¯¸ì„¸ë¨¼ì§€ ì…ë ¥
                      maps[ny][nx] += spreadDust;
                  }
              }
      
              // ë‹¤ í¼ì¡Œë‹¤. ì´ì œ í¼ì§„ë§Œí¼ ë¹¼ê³  ê¸°ì…
              const restDust = curAmount - spreadDust * spreadCnt;
              maps[curY][curX] += restDust;
          }
      }
   ```
    - íëŠ” 1ì´ˆë§ˆë‹¤ ë§Œë“¤ì–´ì•¼ í•œë‹¤. "ë¯¸ì„¸ë¨¼ì§€ê°€ í™•ì‚°ë  ë–„" ì‚¬ìš©ë˜ê³ , 1ì´ˆë§ˆë‹¤ í™•ì‚°ë˜ê¸° ë•Œë¬¸ì´ë‹¤.
    - ë¯¸ì„¸ë¨¼ì§€ëŠ” ë™ì‹œì— í¼ì§€ê¸° ë•Œë¬¸ì— ëª¨ë“  ë¨¼ì§€ë¥¼ íì— ë„£ì–´ë†”ì•¼ í•œë‹¤. ì´ë•Œ ìœ„ì¹˜ ì •ë³´ì™€ í•¨ê»˜ "ë¯¸ì„¸ë¨¼ì§€ ì–‘"ì„ í•¨ê»˜ ë„£ì–´ì¤€ë‹¤. 1ì´ˆë§ˆë‹¤ `maps`ë¥¼ ì´ˆê¸°í™”í•  ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤.
    - `maps`ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì´ìœ ëŠ” ë¯¸ì„¸ë¨¼ì§€ê°€ í¼ì§€ëŠ” ë°©ì‹ ë•Œë¬¸ì´ë‹¤. ê²¹ì¹  ê²½ìš° ì •ë³´ê°€ ì˜¤ì—¼ë  ìˆ˜ ìˆì–´ì„œ ë”°ë¡œ ë¹¼ë†“ëŠ” ê²ƒì´ë‹¤.
    - ì£¼ì–´ì§„ ê³µì‹ì— ë§ê²Œ ë¯¸ì„¸ë¨¼ì§€ê°€ í¼ì§„ë‹¤. ì´ë•Œ `maps` ê°’ì„ ëŒ€ì²´í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ,  `+=` ì—°ì‚°ì„ ì‚¬ìš©í•´ ë”í•´ì•¼ í•œë‹¤.
    - ë°©ë¬¸ ì—¬ë¶€ ë°°ì—´ì€ ë”°ë¡œ í•„ìš”í•˜ì§€ ì•Šë‹¤. ë¯¸ì„¸ë¨¼ì§€ëŠ” ì¤‘ì²©ë˜ê¸° ë•Œë¬¸ì´ë‹¤.
3. ê³µê¸°ì²­ì •ê¸° ë¡œì§
   ```javascript
      function topSection() {
          // ì²« ë²ˆì§¸: (filterTop, 0)ì—ì„œ (0,0)ê¹Œì§€ ë‹¹ê²¨
          for (let y = filterTop - 1; y > 0; y--) {
              maps[y][0] = maps[y - 1][0];
          }
          // ë‘ ë²ˆì¬: (0,0)ì—ì„œ (0, C-1) ê¹Œì§€ ë‹¹ê²¨
          for (let x = 0; x < C - 1; x++) {
              maps[0][x] = maps[0][x + 1];
          }
          // ì„¸ ë²ˆì§¸: (0, M-1)ì—ì„œ (filterTop, C-1)ê¹Œì§€ ë‹¹ê²¨
          for (let y = 0; y < filterTop; y++) {
              maps[y][C - 1] = maps[y + 1][C - 1];
          }
      
          // ë„¤ ë²ˆì§¸: (filterTop, C-1)ì—ì„œ (filterTop, 0)ê¹Œì§€ ë‹¹ê²¨
          for (let x = C - 1; x > 1; x--) {
              maps[filterTop][x] = maps[filterTop][x - 1];
          }
          // ê³µê¸°ì²­ì •ê¸° ë°”ë¡œ ì˜¤ë¥¸ìª½ ë¯¸ì„¸ë¨¼ì§€ëŠ” ì§ì ‘ ë¹„ì›Œì¤€ë‹¤.
          maps[filterTop][1] = 0;
      }
   ```
   - ë¯¸ì„¸ë¨¼ì§€ê°€ í¼ì§„ ë’¤ì—, ê³µê¸°ì²­ì •ê¸°ê°€ ê°€ë™ëœë‹¤. ë‚˜ëŠ” ìƒë‹¨/í•˜ë‹¨ì„ ë¶„ë¦¬í–ˆì§€ë§Œ í•©ì³ì„œ ë§Œë“¤ì–´ë„ ëœë‹¤.
   - ê³µê¸°ì²­ì •ê¸° ë°”ëŒì˜ ì—­ë°©í–¥ìœ¼ë¡œ ê³„ì‚°í•´ì•¼ í•œë‹¤.
