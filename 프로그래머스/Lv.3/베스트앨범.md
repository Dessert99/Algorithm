[https://school.programmers.co.kr/learn/courses/30/lessons/42579?language=javascript](https://school.programmers.co.kr/learn/courses/30/lessons/42579?language=javascript)
```javascript
function solution(genres, plays) {
    // ì¥ë¥´ ê°œìˆ˜
    const n = genres.length;
    
    //{key: ì¥ë¥´, value: { ì´ ì¬ìƒ íšŸìˆ˜, [{ê³ ìœ ë²ˆí˜¸, ì¬ìƒíšŸìˆ˜}, {ê³ ìœ ë²ˆí˜¸, ì¬ìƒíšŸìˆ˜}] }}
    const map = new Map();

    // í•´ì‹œë§µì— ì €ì¥
    for (let i = 0; i < n; i++) {
        // ì—¬ê¸°ì„œ iëŠ” ë…¸ë˜ì˜ ê³ ìœ  ë²ˆí˜¸ì´ë‹¤.
        const genre = genres[i];
        const play = plays[i];

        // ì²˜ìŒ ë³´ëŠ” ì¥ë¥´ë¼ë©´ ì´ˆê¸°í™”
        if (!map.has(genre)) {
            map.set(genre, {
                totalPlay: 0,
                songs: [],
            });
        }
        
        // ì¥ë¥´ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        const curGenre = map.get(genre);

        // ì´ ì¬ìƒ íšŸìˆ˜ ëˆ„ì 
        curGenre.totalPlay += play;

        // ì¥ë¥´ì— ë…¸ë˜ ì¶”ê°€. ê³ ìœ  ë²ˆí˜¸, ì¬ìƒ íšŸìˆ˜
        curGenre.songs.push({ id: i, play: play });
    }

    // totalPlay ë§ì€ ìˆœì„œëŒ€ë¡œ ì •ë ¬í•œë‹¤.
    const sortedGenres = [...map].sort((a, b) => b[1].totalPlay - a[1].totalPlay);

    const answer = []
    // 1. ì¥ë¥´ ë³„ë¡œ songs ë°°ì—´ì„ ë‚´ë¦¼ì°¨ ì •ë ¬ í•œ ë’¤, 2ê°œê¹Œì§€ë§Œ Idë¥¼ ë½‘ì•„ë‚¸ë‹¤.
    for (const [genre, info] of sortedGenres){
        const songs = info.songs
        // 1. ì¬ìƒíšŸìˆ˜ ê¸°ì¤€ 2. ê³ ìœ ë²ˆí˜¸ ê¸°ì¤€
        songs.sort((a,b)=> b.play - a.play || a.id - b.id)
        
        answer.push(songs[0].id)
        
        // ì¥ë¥´ì— ë…¸ë˜ê°€ 1ê°œ ì¼ ìˆ˜ë„ ìˆë‹¤.
        if (songs.length >=2){
            answer.push(songs[1].id)
        }
        
    }

    return answer;
}
```
### ğŸ”— í’€ì´
1. ì¥ë¥´ê°€ key, ì¬ìƒ íšŸìˆ˜ ë¦¬ìŠ¤íŠ¸ë¥¼ valueë¡œ í•œ mapì„ ë§Œë“ ë‹¤.
    
    ```javascript
    // mapì—ì„œ valueê°’
    {
    'totalPlay' : 0
    'songs' : [ { id:0, play:300}, {id:1, play:2500} ... ]
    }
    ```
    
    - ì†í•œ ë…¸ë˜ê°€ ë§ì´ ì¬ìƒëœ ì¥ë¥´ë¥¼ íŒŒì•…í•´ì•¼í•˜ê¸° ë–„ë¬¸ì— `totalPlay` ê°’ì„ ëˆ„ì í•œë‹¤.
    - ì¥ë¥´ë³„ ëª¨ë“  ë…¸ë˜ë¥¼ id, play ê°ì²´ í˜•íƒœë¡œ ë°°ì—´ì— ì¶”ê°€í•œë‹¤.
2. ì •ë ¬í•˜ê¸° ìœ„í•´ mapì„ ë°°ì—´ë¡œ ë°”ê¾¼ë‹¤.
3. totalPaly ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤.
4. ì¥ë¥´ë³„ ë…¸ë˜ë“¤ì„ ì •ë ¬í•œë‹¤.
5. ë…¸ë˜ ì¬ìƒ íšŸìˆ˜ê°€ ê°™ë‹¤ë©´ ê³ ìœ  ë²ˆí˜¸ë¡œ ì •ë ¬í•œë‹¤.
### ğŸ”— ë°°ìš´ì 
1. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì—ì„œ `sort()` ì„±ëŠ¥
    
    > $O(N \log N)$
    > 
    - V8ì—”ì§„ì—ì„œëŠ”Timsortì´ë¼ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤. ì´ ì•Œê³ ë¦¬ì¦˜ì€ ë³‘í•© ì •ë ¬ê³¼ ì‚½ì… ì •ë ¬ì˜ ì¥ì ì„ í•©ì¹œ í•˜ì´ë¸Œë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.
        - í˜„ì¬ ë¬¸ì œì—ì„œ ìµœì•…ì˜ ê²½ìš°, ì¥ë¥´ í•˜ë‚˜ì— 1ë§Œ ê°œì˜ ë…¸ë˜ê°€ ìˆì–´, ê·¸ë“¤ ì¤‘ ì¬ìƒ íšŸìˆ˜ê°€ ë§ì€ ìˆœì„œëŒ€ë¡œ ì •ë ¬ í›„ ì•ì—ì„œ 2ê³¡ì„ ì§¤ë¼ì•¼ í•œë‹¤. $\log_2 N \approx 13.3$ ì´ê¸° ë•Œë¬¸ì—, 1ë§Œ * 13.3 = ì•½ 13ë§Œ ë²ˆì˜ ì—°ì‚°ì„ í•œë‹¤. ì—¬ìœ ë¡­ë‹¤.
2. ì›ì‹œ íƒ€ì… vs ì°¸ì¡° íƒ€ì…
    
    > ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê°ì²´ëŠ” ë©”ëª¨ë¦¬ í™ì— ì €ì¥ë˜ê³ , ë³€ìˆ˜ëŠ” ê·¸ ì£¼ì†Œê°’ë§Œ ê°€ì§„ë‹¤.
    > 
    - ì›ì‹œ íƒ€ì… (Primitive Type)
        
        > ê°’ì´ ë‹´ê¸´ **ë°ì´í„° ê·¸ ìì²´**ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•œë‹¤.
        > 
        - íŠ¹ì§•: ë¶ˆë³€ì„±(Immutability). í•œ ë²ˆ ìƒì„±ëœ ê°’ì€ ë©”ëª¨ë¦¬ ìƒì—ì„œ ë³€ê²½ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        - **ì¢…ë¥˜ (7ê°€ì§€):** `Number`, `String`, `Boolean`, `null`, `undefined`, `Symbol`, `BigInt`
    - ì°¸ì¡° íƒ€ì… (Reference Type)
        
        > ë°ì´í„° ìì²´ê°€ ì•„ë‹ˆë¼, ë°ì´í„°ê°€ ìœ„ì¹˜í•œ ë©”ëª¨ë¦¬ ì£¼ì†Œ(Reference)ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•œë‹¤.
        > 
        - **íŠ¹ì§•:** **ê°€ë³€ì„±(Mutability)**. ì£¼ì†Œë¥¼ í†µí•´ ì ‘ê·¼í•˜ì—¬ ë‚´ë¶€ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        - **ì¢…ë¥˜:** `Object` (Array, Function, Date, Map, Set ë“± ê°ì²´ í•˜ìœ„ì˜ ëª¨ë“  ê²ƒ)
