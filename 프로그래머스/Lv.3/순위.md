[https://school.programmers.co.kr/learn/courses/30/lessons/49191?language=javascript](https://school.programmers.co.kr/learn/courses/30/lessons/49191?language=javascript)
```javascript
function solution(n, results) {
    let answer = 0;
    // rank[i] = i위인 선수 
    const rank = Array.from({length: n+1},()=>0)
    
    // 선수 리스트. players[i] = [1,2] -> i번 선수는 1, 2번 선수를 이겼다.
    const winRelation = Array.from({length:n+1},()=>[])
    const loseRelation = Array.from({length:n+1},()=>[])
    
    for (let i=0;i<results.length;i++){
        const [win, lose] = results[i]
        
        winRelation[win].push(lose)
        loseRelation[lose].push(win)
    }

    // 한 명씩 관계도를 확인한다.
    for (let i=1 ;i<=n;i++){
    
        // 이긴 사람 카운팅
        const winCnt = util(i, winRelation)
    
        // 진 사람 카운팅
        const loseCnt = util(i, loseRelation)
            
        // 만약 모든 관계도를 파악할 수 있다면
        if (winCnt + loseCnt === n-1){
            answer++
        }
    }
    

    return answer;
    
    // 어떤 선수의 승리/패배 횟수를 세는 함수
    function util(player, relation){
        const q = []
        let head = 0
        
        const visited = Array.from({length:n+1}, ()=>false)
        
        // 시작 사람
        q.push(player)
        visited[player] = true
        
        // 승리/패배 횟수
        let count = 0
        
        while(q.length>head){
            const curPlayer = q[head++]
            
            // 이어진 관계 파악
            relation[curPlayer].forEach((next)=>{
                // 확인하지 않은 사람이라면 + 1
                if (visited[next] === false){
                    visited[next]=true
                    count++
                    
                    q.push(next)
                }
            })
        }
        // 승리or패배 관계 횟수 반환
        return count
    }
}
```
### 🔗 풀이
1. 🤔 인접 리스트
    - 방향이 있다.
    
2. 🤔 순위는 어떻게 매길까?
    - 이긴 관계, 진 관계 모두 기록해보자.

3. 🤔 이제 순위를 어떻게 매겨야 하나? -> ❌ 순위를 매길 수 없고, 매길 필요도 없다.
    - 🤔 rank 배열을 만들어서 최신화?
        - 뭔가 1번 선수 확인, 2번 선수 확인하는 것처럼 순서대로 할 수는 없을듯?
        - 2번 선수는 모든 정보가 있어서 순위를 매길 수 있었다. 5번 선수는 2번과의 관계만 있지만 2번이 확정되어서 자동으로 확정된다.
            -> 그러면 먼저 순위를 매길 수 있는 사람부터 매겨볼까? -> ❌
### 🔗 배운점
1. ⭐️ 발상의 전환
    - 랭킹을 매길 수 없다.
    - 굳이 랭킹을 매기지 않아도 된다. 우리는 "순위를 매길 수 있는가?"에 집중하면 된다.
    - 어떻게 해야 순위를 매길 수 있을까? n-1명과 관계도가 있으면 된다.
        - 👀 방법1)   
            1. 인접 리스트로 승리 관계 카운팅
            2. 인접 리스트로 패배 관계 카운팅
            3. 그 합이 `n-1`이면 순위를 정할 수 있다.
